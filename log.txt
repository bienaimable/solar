2018-03-01T19:52:42.680861599Z TRACE:__main__.Manager:__init__:CALL *() **{}
2018-03-01T19:52:42.680904639Z TRACE:__main__.Swarm:__init__:CALL *() **{}
2018-03-01T19:52:42.681787066Z TRACE:__main__.Swarm:__init__:RETURN None
2018-03-01T19:52:42.681799445Z TRACE:__main__.Manager:__init__:RETURN None
2018-03-01T19:52:42.681905664Z TRACE:__main__.Manager:link:CALL *('https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', 'test-new-moon') **{}
2018-03-01T19:52:42.681983008Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', 'branch': 'test-new-moon', 'stack_name': 'moon', 'service_name': 'moon'}
2018-03-01T19:52:42.682022552Z TRACE:__main__.Folder:__init__:CALL *('/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2',) **{}
2018-03-01T19:52:42.682028071Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:52:42.682060443Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:52:42.682272770Z TRACE:__main__.Instructions:__init__:CALL *(Repository(url='https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', branch='test-new-moon', stack_name='moon', service_name='moon'),) **{'filename': 'moon-stacks.yml'}
2018-03-01T19:52:42.682281083Z TRACE:__main__.Instructions:__init__:RETURN None
2018-03-01T19:52:42.682284876Z TRACE:__main__.Manager:link:RETURN None
2018-03-01T19:52:42.682318035Z TRACE:__main__.Manager:monitor:CALL *('30',) **{}
2018-03-01T19:52:42.682396973Z TRACE:__main__.Manager:sync:CALL *() **{}
2018-03-01T19:52:42.682402860Z TRACE:__main__.Instructions:uptodate:CALL *() **{}
2018-03-01T19:52:42.682467636Z TRACE:__main__.Repository:uptodate:CALL *() **{}
2018-03-01T19:52:42.682502515Z TRACE:__main__.Folder:exists:CALL *() **{}
2018-03-01T19:52:42.682698200Z TRACE:__main__.Folder:exists:RETURN True
2018-03-01T19:52:45.088708910Z TRACE:__main__.Repository:uptodate:RETURN True
2018-03-01T19:52:45.088755153Z TRACE:__main__.Instructions:uptodate:RETURN True
2018-03-01T19:52:45.088938176Z TRACE:__main__.Manager:clean_stacks:CALL *(Instructions(repository=Repository(url='https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', branch='test-new-moon', stack_name='moon', service_name='moon'), filename='moon-stacks.yml'),) **{}
2018-03-01T19:52:46.392540085Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:52:46.392558614Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:46.392563108Z TRACE:__main__.Manager:clean_stacks:RETURN None
2018-03-01T19:52:46.392566830Z TRACE:__main__.Manager:create_networks:CALL *(Instructions(repository=Repository(url='https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', branch='test-new-moon', stack_name='moon', service_name='moon'), filename='moon-stacks.yml'),) **{}
2018-03-01T19:52:46.397563392Z TRACE:__main__.Network:__init__:CALL *('frontend',) **{}
2018-03-01T19:52:46.397580384Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:52:47.711071488Z TRACE:__main__.Network:__init__:CALL *('bridge',) **{}
2018-03-01T19:52:47.711166179Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:52:47.711173113Z TRACE:__main__.Network:__init__:CALL *('docker_gwbridge',) **{}
2018-03-01T19:52:47.711177166Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:52:47.711181378Z TRACE:__main__.Network:__init__:CALL *('host',) **{}
2018-03-01T19:52:47.711185025Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:52:47.711188564Z TRACE:__main__.Network:__init__:CALL *('ingress',) **{}
2018-03-01T19:52:47.711192127Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:52:47.711235630Z TRACE:__main__.Network:__init__:CALL *('moon_default',) **{}
2018-03-01T19:52:47.711256159Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:52:47.711261072Z TRACE:__main__.Network:__init__:CALL *('none',) **{}
2018-03-01T19:52:47.711264654Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:52:47.711432146Z INFO:__main__:create_networks:Adding network frontend
2018-03-01T19:52:47.711439842Z TRACE:__main__.Network:add_to:CALL *(Swarm(),) **{}
2018-03-01T19:52:47.711611788Z TRACE:__main__.Swarm:add_network:CALL *(Network(name='frontend'),) **{}
2018-03-01T19:52:49.538587024Z TRACE:__main__.Swarm:add_network:RETURN None
2018-03-01T19:52:49.538645058Z TRACE:__main__.Network:add_to:RETURN None
2018-03-01T19:52:49.538778148Z INFO:__main__:create_networks:Network frontend added
2018-03-01T19:52:49.538793510Z TRACE:__main__.Manager:create_networks:RETURN None
2018-03-01T19:52:49.548572300Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:52:49.554835867Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:52:49.554911503Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:52:49.554963267Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:52:49.555151283Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:52:49.555519331Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:52:49.555537439Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:52:49.555725132Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:52:49.555969289Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:49.556032564Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:49.556085179Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:52:49.575361078Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:52:49.575387315Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:49.575421716Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:52:49.575451680Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:49.575548982Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:52:49.575609059Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:49.575637928Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:49.575839895Z TRACE:__main__.Manager:build_and_push:CALL *([Stack(name='forecaxter', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml'), Stack(name='elk', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml')], 'missing') **{}
2018-03-01T19:52:49.575901799Z TRACE:__main__.Repository:uptodate:CALL *() **{}
2018-03-01T19:52:49.576628182Z TRACE:__main__.Folder:exists:CALL *() **{}
2018-03-01T19:52:49.576640288Z TRACE:__main__.Folder:exists:RETURN True
2018-03-01T19:52:51.893792147Z TRACE:__main__.Repository:uptodate:RETURN True
2018-03-01T19:52:51.894042213Z TRACE:__main__.Manager:build_and_push:RETURN None
2018-03-01T19:52:51.896157593Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:52:51.898350108Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:52:51.898534059Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:52:51.898734307Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:52:51.898905375Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:52:51.899100009Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:52:51.899247854Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:52:51.899398136Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:52:51.899537932Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:51.899689171Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:51.899833033Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:52:51.910224376Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:52:51.910397460Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:51.910539939Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:52:51.910704193Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:51.910910800Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:52:51.911241111Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:51.911250185Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:51.911589055Z TRACE:__main__.Manager:deploy:CALL *([Stack(name='forecaxter', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml'), Stack(name='elk', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml')], 'missing') **{}
2018-03-01T19:52:51.913084940Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:52:51.915327557Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:52:51.915348274Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:52:51.915612647Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:52:51.915868267Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:52:51.915957824Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:52:51.916202505Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:52:51.916314455Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:52:51.916530643Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:51.916724481Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:51.916858971Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:52:51.927357951Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:52:51.927542267Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:51.927706337Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:52:51.927853542Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:51.928017332Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:52:51.928165702Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:52:51.928315781Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:53.204070327Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:52:53.204102614Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:53.204121737Z INFO:__main__:deploy:Deploying forecaxter
2018-03-01T19:52:53.204128871Z TRACE:__main__.Stack:add_to:CALL *(Swarm(),) **{}
2018-03-01T19:52:53.204135092Z TRACE:__main__.Swarm:add_stack:CALL *(Stack(name='forecaxter', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml'),) **{}
2018-03-01T19:52:55.401529975Z TRACE:__main__.Swarm:add_stack:RETURN None
2018-03-01T19:52:55.402126567Z TRACE:__main__.Stack:add_to:RETURN None
2018-03-01T19:52:56.695395604Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:52:56.695443140Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:56.695458992Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:52:56.695471621Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:52:56.695483914Z INFO:__main__:deploy:Deploying elk
2018-03-01T19:52:56.695496621Z TRACE:__main__.Stack:add_to:CALL *(Swarm(),) **{}
2018-03-01T19:52:56.695509289Z TRACE:__main__.Swarm:add_stack:CALL *(Stack(name='elk', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml'),) **{}
2018-03-01T19:53:00.839164313Z TRACE:__main__.Swarm:add_stack:RETURN None
2018-03-01T19:53:00.839216556Z TRACE:__main__.Stack:add_to:RETURN None
2018-03-01T19:53:00.839233053Z TRACE:__main__.Manager:deploy:RETURN None
2018-03-01T19:53:00.839246044Z TRACE:__main__.Manager:sync:RETURN None
2018-03-01T19:53:30.870627776Z TRACE:__main__.Manager:sync:CALL *() **{}
2018-03-01T19:53:30.878720547Z TRACE:__main__.Instructions:uptodate:CALL *() **{}
2018-03-01T19:53:30.878775834Z TRACE:__main__.Repository:uptodate:CALL *() **{}
2018-03-01T19:53:30.878795924Z TRACE:__main__.Folder:exists:CALL *() **{}
2018-03-01T19:53:30.878811767Z TRACE:__main__.Folder:exists:RETURN True
2018-03-01T19:53:33.120525102Z TRACE:__main__.Repository:uptodate:RETURN True
2018-03-01T19:53:33.120719055Z TRACE:__main__.Instructions:uptodate:RETURN True
2018-03-01T19:53:33.122473283Z TRACE:__main__.Manager:clean_stacks:CALL *(Instructions(repository=Repository(url='https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', branch='test-new-moon', stack_name='moon', service_name='moon'), filename='moon-stacks.yml'),) **{}
2018-03-01T19:53:34.620486912Z TRACE:__main__.Stack:__init__:CALL *('elk',) **{}
2018-03-01T19:53:34.624441142Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:34.624527165Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:53:34.624669381Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:34.624689027Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:53:34.624703398Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:34.643232525Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:53:34.643306488Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:53:34.643327939Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:53:34.643342561Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:53:34.643356047Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:53:34.643369750Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:53:34.643383406Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:53:34.643396028Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:53:34.643408452Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:34.643421202Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:34.643433624Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:53:34.667473266Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:34.667503575Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:34.667511402Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:34.667519324Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:34.667524595Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:34.667530845Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:34.667535870Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:34.667726476Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:53:34.672310613Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:53:34.672373027Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:53:34.672381933Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:53:34.672605796Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:53:34.672615391Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:53:34.672691619Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:53:34.672790134Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:53:34.672798183Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:34.672803552Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:34.672912898Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:53:34.689432194Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:34.689480659Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:34.689597492Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:34.689729273Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:34.689740433Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:34.689770571Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:34.689782301Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:34.694574393Z TRACE:__main__.Manager:clean_stacks:RETURN None
2018-03-01T19:53:34.694801510Z TRACE:__main__.Manager:create_networks:CALL *(Instructions(repository=Repository(url='https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', branch='test-new-moon', stack_name='moon', service_name='moon'), filename='moon-stacks.yml'),) **{}
2018-03-01T19:53:34.697044249Z TRACE:__main__.Network:__init__:CALL *('frontend',) **{}
2018-03-01T19:53:34.697188272Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:53:36.124368716Z TRACE:__main__.Network:__init__:CALL *('bridge',) **{}
2018-03-01T19:53:36.124409882Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:53:36.124421727Z TRACE:__main__.Network:__init__:CALL *('docker_gwbridge',) **{}
2018-03-01T19:53:36.124430382Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:53:36.124491851Z TRACE:__main__.Network:__init__:CALL *('elk_elk',) **{}
2018-03-01T19:53:36.131371015Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:53:36.131430759Z TRACE:__main__.Network:__init__:CALL *('frontend',) **{}
2018-03-01T19:53:36.131524104Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:53:36.131538454Z TRACE:__main__.Network:__init__:CALL *('host',) **{}
2018-03-01T19:53:36.131547499Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:53:36.131555756Z TRACE:__main__.Network:__init__:CALL *('ingress',) **{}
2018-03-01T19:53:36.131564005Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:53:36.131572874Z TRACE:__main__.Network:__init__:CALL *('moon_default',) **{}
2018-03-01T19:53:36.131581423Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:53:36.131589606Z TRACE:__main__.Network:__init__:CALL *('none',) **{}
2018-03-01T19:53:36.131597823Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:53:36.131606077Z TRACE:__main__.Manager:create_networks:RETURN None
2018-03-01T19:53:36.131614565Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:53:36.138929532Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:53:36.139047358Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:53:36.139062201Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:53:36.139070880Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:53:36.139080025Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:53:36.139089253Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:53:36.139111806Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:53:36.139122023Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:36.139130563Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:36.141134359Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:53:36.163911512Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:36.164579961Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:36.164603300Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:36.164611247Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:36.164615299Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:36.164648377Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:36.164653599Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:36.165040302Z TRACE:__main__.Manager:build_and_push:CALL *([Stack(name='forecaxter', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml'), Stack(name='elk', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml')], 'missing') **{}
2018-03-01T19:53:36.165048895Z TRACE:__main__.Repository:uptodate:CALL *() **{}
2018-03-01T19:53:36.165053066Z TRACE:__main__.Folder:exists:CALL *() **{}
2018-03-01T19:53:36.165056737Z TRACE:__main__.Folder:exists:RETURN True
2018-03-01T19:53:38.622770268Z TRACE:__main__.Repository:uptodate:RETURN True
2018-03-01T19:53:38.625356986Z TRACE:__main__.Manager:build_and_push:RETURN None
2018-03-01T19:53:38.625383854Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:53:38.633881507Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:53:38.634030973Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:53:38.641615780Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:53:38.641640358Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:53:38.641646160Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:53:38.641650322Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:53:38.641654189Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:53:38.641657886Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:38.641661596Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:38.641665327Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:53:38.651008630Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:38.651042163Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:38.655550134Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:38.655589233Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:38.655596236Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:38.655601219Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:38.655605057Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:38.661085418Z TRACE:__main__.Manager:deploy:CALL *([Stack(name='forecaxter', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml'), Stack(name='elk', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml')], 'missing') **{}
2018-03-01T19:53:38.661132912Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:53:38.661141572Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:53:38.661177988Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:53:38.661184690Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:53:38.661188896Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:53:38.661193253Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:53:38.661197234Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:53:38.661201046Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:53:38.661204787Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:38.661208695Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:38.661212452Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:53:38.675249373Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:38.675512146Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:38.682610929Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:38.682642827Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:38.682677931Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:53:38.682684460Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:53:38.682698266Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:41.178475630Z TRACE:__main__.Stack:__init__:CALL *('elk',) **{}
2018-03-01T19:53:41.187867048Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:41.187955982Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:53:41.187977446Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:41.187992136Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:53:41.188007844Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:42.749009949Z TRACE:__main__.Stack:__init__:CALL *('elk',) **{}
2018-03-01T19:53:42.749073257Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:42.749093573Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:53:42.749108891Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:42.749167070Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:53:42.749188613Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:53:42.749203470Z TRACE:__main__.Manager:deploy:RETURN None
2018-03-01T19:53:42.749217990Z TRACE:__main__.Manager:sync:RETURN None
2018-03-01T19:54:12.775037476Z TRACE:__main__.Manager:sync:CALL *() **{}
2018-03-01T19:54:12.775348479Z TRACE:__main__.Instructions:uptodate:CALL *() **{}
2018-03-01T19:54:12.783300714Z TRACE:__main__.Repository:uptodate:CALL *() **{}
2018-03-01T19:54:12.783352936Z TRACE:__main__.Folder:exists:CALL *() **{}
2018-03-01T19:54:12.783372901Z TRACE:__main__.Folder:exists:RETURN True
2018-03-01T19:54:15.325243852Z TRACE:__main__.Repository:uptodate:RETURN True
2018-03-01T19:54:15.327683761Z TRACE:__main__.Instructions:uptodate:RETURN True
2018-03-01T19:54:15.330553034Z TRACE:__main__.Manager:clean_stacks:CALL *(Instructions(repository=Repository(url='https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', branch='test-new-moon', stack_name='moon', service_name='moon'), filename='moon-stacks.yml'),) **{}
2018-03-01T19:54:16.622131687Z TRACE:__main__.Stack:__init__:CALL *('elk',) **{}
2018-03-01T19:54:16.622769517Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:16.623410490Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:54:16.623755485Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:16.624261153Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:54:16.624647869Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:16.642688065Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:54:16.649290691Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:54:16.649362287Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:54:16.649374502Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:54:16.649381090Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:54:16.649387554Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:54:16.649393761Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:54:16.649399599Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:54:16.649405426Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:16.649411307Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:16.649417175Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:54:16.666192149Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:16.666274097Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:16.666579942Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:16.666599795Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:16.674429352Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:16.674492686Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:16.674636876Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:16.679830201Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:54:16.684696614Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:54:16.684775992Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:54:16.684862030Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:54:16.684871340Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:54:16.684997376Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:54:16.685005282Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:54:16.685089153Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:54:16.685095878Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:16.685144967Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:16.685226154Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:54:16.702040095Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:16.702200618Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:16.705287590Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:16.705308497Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:16.705316818Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:16.705322646Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:16.705327935Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:16.705332795Z TRACE:__main__.Manager:clean_stacks:RETURN None
2018-03-01T19:54:16.705337137Z TRACE:__main__.Manager:create_networks:CALL *(Instructions(repository=Repository(url='https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', branch='test-new-moon', stack_name='moon', service_name='moon'), filename='moon-stacks.yml'),) **{}
2018-03-01T19:54:16.705349376Z TRACE:__main__.Network:__init__:CALL *('frontend',) **{}
2018-03-01T19:54:16.705354893Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:17.990464176Z TRACE:__main__.Network:__init__:CALL *('bridge',) **{}
2018-03-01T19:54:17.990498237Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:17.990508016Z TRACE:__main__.Network:__init__:CALL *('docker_gwbridge',) **{}
2018-03-01T19:54:17.990515378Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:17.990522359Z TRACE:__main__.Network:__init__:CALL *('elk_elk',) **{}
2018-03-01T19:54:17.990529185Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:17.990536075Z TRACE:__main__.Network:__init__:CALL *('frontend',) **{}
2018-03-01T19:54:17.990542954Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:17.990549778Z TRACE:__main__.Network:__init__:CALL *('host',) **{}
2018-03-01T19:54:17.990556689Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:17.990563564Z TRACE:__main__.Network:__init__:CALL *('ingress',) **{}
2018-03-01T19:54:17.990570461Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:17.990577242Z TRACE:__main__.Network:__init__:CALL *('moon_default',) **{}
2018-03-01T19:54:17.990642398Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:17.990651211Z TRACE:__main__.Network:__init__:CALL *('none',) **{}
2018-03-01T19:54:17.990658268Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:17.990665184Z TRACE:__main__.Manager:create_networks:RETURN None
2018-03-01T19:54:17.995965567Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:54:17.996224907Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:54:17.996268583Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:54:17.996278650Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:54:17.996286179Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:54:17.996644866Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:54:17.996657895Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:54:17.996665251Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:54:17.996672172Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:17.996985211Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:17.997008366Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:54:18.020928508Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:18.020982368Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:18.023649986Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:18.023674259Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:18.023680408Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:18.023765847Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:18.026891535Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:18.027173930Z TRACE:__main__.Manager:build_and_push:CALL *([Stack(name='forecaxter', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml'), Stack(name='elk', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml')], 'missing') **{}
2018-03-01T19:54:18.027185479Z TRACE:__main__.Repository:uptodate:CALL *() **{}
2018-03-01T19:54:18.027261784Z TRACE:__main__.Folder:exists:CALL *() **{}
2018-03-01T19:54:18.027305138Z TRACE:__main__.Folder:exists:RETURN True
2018-03-01T19:54:20.271529603Z TRACE:__main__.Repository:uptodate:RETURN True
2018-03-01T19:54:20.271564204Z TRACE:__main__.Manager:build_and_push:RETURN None
2018-03-01T19:54:20.273530896Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:54:20.278782767Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:54:20.278839711Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:54:20.283123200Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:54:20.283214653Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:54:20.283227600Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:54:20.283303680Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:54:20.283311044Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:54:20.283315205Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:20.283319216Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:20.283323277Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:54:20.291419387Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:20.291462872Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:20.293948449Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:20.294234249Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:20.295204931Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:20.295217432Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:20.295221980Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:20.295225939Z TRACE:__main__.Manager:deploy:CALL *([Stack(name='forecaxter', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml'), Stack(name='elk', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml')], 'missing') **{}
2018-03-01T19:54:20.296686378Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:54:20.299147064Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:54:20.300515801Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:54:20.300561238Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:54:20.300566483Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:54:20.300570586Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:54:20.300574443Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:54:20.300578115Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:54:20.300581798Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:20.300585532Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:20.300589258Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:54:20.321129090Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:20.321457914Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:20.326788782Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:20.326831234Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:20.332293941Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:20.332318928Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:20.332325466Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:21.606312515Z TRACE:__main__.Stack:__init__:CALL *('elk',) **{}
2018-03-01T19:54:21.606379374Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:21.606396429Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:54:21.606407602Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:21.606418479Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:54:21.606429185Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:22.912326348Z TRACE:__main__.Stack:__init__:CALL *('elk',) **{}
2018-03-01T19:54:22.912412115Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:22.912426836Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:54:22.912435673Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:22.912444099Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:54:22.912452940Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:22.912461416Z TRACE:__main__.Manager:deploy:RETURN None
2018-03-01T19:54:22.912469595Z TRACE:__main__.Manager:sync:RETURN None
2018-03-01T19:54:52.942784235Z TRACE:__main__.Manager:sync:CALL *() **{}
2018-03-01T19:54:52.942838393Z TRACE:__main__.Instructions:uptodate:CALL *() **{}
2018-03-01T19:54:52.942853909Z TRACE:__main__.Repository:uptodate:CALL *() **{}
2018-03-01T19:54:52.942865274Z TRACE:__main__.Folder:exists:CALL *() **{}
2018-03-01T19:54:52.942877173Z TRACE:__main__.Folder:exists:RETURN True
2018-03-01T19:54:55.458992164Z TRACE:__main__.Repository:uptodate:RETURN True
2018-03-01T19:54:55.461402148Z TRACE:__main__.Instructions:uptodate:RETURN True
2018-03-01T19:54:55.462036182Z TRACE:__main__.Manager:clean_stacks:CALL *(Instructions(repository=Repository(url='https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', branch='test-new-moon', stack_name='moon', service_name='moon'), filename='moon-stacks.yml'),) **{}
2018-03-01T19:54:56.737461883Z TRACE:__main__.Stack:__init__:CALL *('elk',) **{}
2018-03-01T19:54:56.737552699Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:56.737566176Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:54:56.737575123Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:56.737583439Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:54:56.737591810Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:56.742781813Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:54:56.748570780Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:54:56.748607215Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:54:56.748634135Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:54:56.748643780Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:54:56.748652661Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:54:56.748660891Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:54:56.748668646Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:54:56.748676237Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:56.748683841Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:56.748691401Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:54:56.769827484Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:56.769874136Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:56.770099781Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:56.770236011Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:56.777167601Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:56.777202418Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:56.777262135Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:56.783268339Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:54:56.783290373Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:54:56.783297530Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:54:56.783312351Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:54:56.783317557Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:54:56.783321785Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:54:56.783325719Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:54:56.783329438Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:54:56.783333097Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:56.783336855Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:56.783340587Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:54:56.792035970Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:56.792103183Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:56.792111319Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:56.792170788Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:56.792193934Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:56.792237674Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:56.792242063Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:56.792259717Z TRACE:__main__.Manager:clean_stacks:RETURN None
2018-03-01T19:54:56.798020121Z TRACE:__main__.Manager:create_networks:CALL *(Instructions(repository=Repository(url='https://f.pillot@gitlab.criteois.com/f.pillot/swarm-configuration-itservers.git', branch='test-new-moon', stack_name='moon', service_name='moon'), filename='moon-stacks.yml'),) **{}
2018-03-01T19:54:56.798041308Z TRACE:__main__.Network:__init__:CALL *('frontend',) **{}
2018-03-01T19:54:56.798177150Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:58.063579970Z TRACE:__main__.Network:__init__:CALL *('bridge',) **{}
2018-03-01T19:54:58.063632429Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:58.063643807Z TRACE:__main__.Network:__init__:CALL *('docker_gwbridge',) **{}
2018-03-01T19:54:58.063651097Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:58.063657897Z TRACE:__main__.Network:__init__:CALL *('elk_elk',) **{}
2018-03-01T19:54:58.063664671Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:58.063671308Z TRACE:__main__.Network:__init__:CALL *('frontend',) **{}
2018-03-01T19:54:58.063678056Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:58.063684724Z TRACE:__main__.Network:__init__:CALL *('host',) **{}
2018-03-01T19:54:58.063691417Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:58.063698201Z TRACE:__main__.Network:__init__:CALL *('ingress',) **{}
2018-03-01T19:54:58.063704989Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:58.063711755Z TRACE:__main__.Network:__init__:CALL *('moon_default',) **{}
2018-03-01T19:54:58.064198158Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:58.064776992Z TRACE:__main__.Network:__init__:CALL *('none',) **{}
2018-03-01T19:54:58.065112230Z TRACE:__main__.Network:__init__:RETURN None
2018-03-01T19:54:58.065480515Z TRACE:__main__.Manager:create_networks:RETURN None
2018-03-01T19:54:58.069569232Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:54:58.079941261Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:54:58.080232011Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:54:58.080495319Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:54:58.080749353Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:54:58.081117813Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:54:58.081360541Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:54:58.081579372Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:54:58.081787015Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:58.081981647Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:58.082187103Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:54:58.101544616Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:58.104298334Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:58.104372453Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:58.104382456Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:58.104386708Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:54:58.104391583Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:54:58.104395476Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:54:58.111080172Z TRACE:__main__.Manager:build_and_push:CALL *([Stack(name='forecaxter', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml'), Stack(name='elk', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml')], 'missing') **{}
2018-03-01T19:54:58.111117530Z TRACE:__main__.Repository:uptodate:CALL *() **{}
2018-03-01T19:54:58.111133198Z TRACE:__main__.Folder:exists:CALL *() **{}
2018-03-01T19:54:58.111142962Z TRACE:__main__.Folder:exists:RETURN True
2018-03-01T19:55:00.572558130Z TRACE:__main__.Repository:uptodate:RETURN True
2018-03-01T19:55:00.575595498Z TRACE:__main__.Manager:build_and_push:RETURN None
2018-03-01T19:55:00.580721759Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:55:00.586367315Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:55:00.586401970Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:55:00.586409029Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:55:00.586493316Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:55:00.586506200Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:55:00.586511292Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:55:00.586515298Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:55:00.586519114Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:55:00.586523002Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:00.586526764Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:55:00.604556222Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:55:00.614835064Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:55:00.614862691Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:55:00.614872925Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:55:00.614878535Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:55:00.614884751Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:55:00.614889948Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:00.614895151Z TRACE:__main__.Manager:deploy:CALL *([Stack(name='forecaxter', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml'), Stack(name='elk', filename='/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml')], 'missing') **{}
2018-03-01T19:55:00.614900534Z TRACE:__main__.Stack:__init__:CALL *('forecaxter', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/forecaxter.yml') **{}
2018-03-01T19:55:00.614905566Z TRACE:__main__.Service:__init__:CALL *('forecaxter', 'forecaxter', {'networks': ['frontend'], 'build': {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}, 'image': '192.168.154.37:5000/forecaxter', 'ports': ['60906:5000']}) **{}
2018-03-01T19:55:00.614919923Z TRACE:__main__.Image:__init__:CALL *('192.168.154.37:5000/forecaxter', {'context': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git#master'}) **{}
2018-03-01T19:55:00.614926427Z TRACE:__main__.Image:__init__:RETURN None
2018-03-01T19:55:00.614932760Z TRACE:__main__.Repository:__init__:CALL *() **{'url': 'https://gitlab.criteois.com/m.rifai/ForecAXter.git', 'branch': 'master', 'stack_name': 'forecaxter', 'service_name': 'forecaxter'}
2018-03-01T19:55:00.614938097Z TRACE:__main__.Folder:__init__:CALL *('/data/bfa06e69f8ec620e5d3637baf1331bdf6a29a2085dbacd0a6d22bafa98511824',) **{}
2018-03-01T19:55:00.614942842Z TRACE:__main__.Folder:__init__:RETURN None
2018-03-01T19:55:00.614947427Z TRACE:__main__.Repository:__init__:RETURN None
2018-03-01T19:55:00.614951895Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:55:00.614956366Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:00.614960801Z TRACE:__main__.Stack:__init__:CALL *('elk', '/data/694e40812e064205ddcc7c0bf8998ca6ccb393cb1bcc87e4eee37d2f848be5e2/stacks/elk.yml') **{}
2018-03-01T19:55:00.628209845Z TRACE:__main__.Service:__init__:CALL *('elasticsearch', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1, 'endpoint_mode': 'dnsrr'}, 'image': 'elasticsearch:5', 'command': 'elasticsearch -Enetwork.host=0.0.0.0 -Ediscovery.zen.ping.unicast.hosts=elasticsearch', 'networks': ['elk'], 'volumes': ['/usr/share/elasticsearch/data'], 'environment': {'ES_JAVA_OPTS': '-Xms2g -Xmx2g'}, 'ulimits': {'memlock': -1, 'nproc': 65538, 'nofile': {'hard': 65536, 'soft': 65536}}, 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:55:00.628244821Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:55:00.628506943Z TRACE:__main__.Service:__init__:CALL *('logstash', 'elk', {'hostname': 'logstash', 'deploy': {'mode': 'replicated', 'replicas': 2}, 'image': 'logstash:alpine', 'ports': ['10514:10514/tcp', '10514:10514/udp', '12201:12201/udp'], 'command': 'sh -c "logstash -e \'input { syslog  { type => syslog port => 10514   } gelf { } } output { elasticsearch { hosts => [ \\"elasticsearch\\" ] } }\'"', 'networks': ['elk'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:55:00.630370314Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:55:00.630391052Z TRACE:__main__.Service:__init__:CALL *('kibana', 'elk', {'deploy': {'mode': 'replicated', 'replicas': 1}, 'image': 'kibana:latest', 'environment': {'ELASTICSEARCH_URL': 'http://elasticsearch:9200'}, 'healthcheck': {'test': 'wget -qO- http://localhost:5601 > /dev/null', 'retries': 3, 'interval': '30s'}, 'networks': ['elk', 'frontend'], 'logging': {'driver': 'json-file', 'options': {'max-size': '200k', 'max-file': '10'}}}) **{}
2018-03-01T19:55:00.630396978Z TRACE:__main__.Service:__init__:RETURN None
2018-03-01T19:55:00.630400910Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:01.887492321Z TRACE:__main__.Stack:__init__:CALL *('elk',) **{}
2018-03-01T19:55:01.887553317Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:01.887565766Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:55:01.887590471Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:01.887600226Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:55:01.887608601Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:03.203034507Z TRACE:__main__.Stack:__init__:CALL *('elk',) **{}
2018-03-01T19:55:03.203684089Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:03.204092138Z TRACE:__main__.Stack:__init__:CALL *('forecaxter',) **{}
2018-03-01T19:55:03.204482007Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:03.204887054Z TRACE:__main__.Stack:__init__:CALL *('moon',) **{}
2018-03-01T19:55:03.215012331Z TRACE:__main__.Stack:__init__:RETURN None
2018-03-01T19:55:03.215069558Z TRACE:__main__.Manager:deploy:RETURN None
2018-03-01T19:55:03.215088710Z TRACE:__main__.Manager:sync:RETURN None
2018-03-01T19:55:33.250584768Z TRACE:__main__.Manager:sync:CALL *() **{}
2018-03-01T19:55:33.250645058Z TRACE:__main__.Instructions:uptodate:CALL *() **{}
2018-03-01T19:55:33.250726852Z TRACE:__main__.Repository:uptodate:CALL *() **{}
2018-03-01T19:55:33.250744968Z TRACE:__main__.Folder:exists:CALL *() **{}
2018-03-01T19:55:33.250759446Z TRACE:__main__.Folder:exists:RETURN True
